<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON BRUTALIST PLAYER - POST-PUNK</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --neon-green: #39ff14;
            --neon-yellow: #ffff00;
            --neon-red: #ff073a;
            --neon-purple: #bf00ff;
            --bg-black: #050505;
            --brutalist-white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Mono', monospace;
            background-color: var(--bg-black);
            color: var(--brutalist-white);
            overflow-x: hidden;
            padding-bottom: 100px; /* Espaço para footer ou scroll */
        }

        /* FUNDO JOY DIVISION */
        .joy-division-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
            background-image: 
                linear-gradient(rgba(255, 0, 255, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.3) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* HEADER */
        header {
            text-align: center;
            padding: 2rem;
            border-bottom: 5px solid var(--neon-pink);
            background: #000;
        }

        h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4rem;
            color: var(--neon-pink);
            text-shadow: 0 0 20px var(--neon-pink);
            letter-spacing: 5px;
            animation: glitchText 3s infinite;
        }

        /* CONTAINER PRINCIPAL DE PLAYER */
        .player-deck {
            max-width: 1000px;
            margin: 2rem auto;
            background: #111;
            border: 4px solid var(--neon-blue);
            padding: 2rem;
            position: relative;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }

        /* TELA DO YOUTUBE */
        #main-player {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            border: 2px solid var(--neon-purple);
            margin-bottom: 2rem;
        }

        /* PAINEL DE CONTROLE (BOTÕES GIRATÓRIOS) */
        .controls-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1rem;
            padding: 1rem;
            background: #0a0a0a;
            border-top: 2px solid var(--neon-gray);
        }

        /* ESTILO DO BOTÃO GIRATÓRIO */
        .spin-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 6px solid;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            /* Animação de rotação contínua */
            animation: spinCircle 4s linear infinite;
        }

        /* O texto dentro precisa girar ao contrário para ficar legível, ou deixamos girar junto (estilo chaos) */
        .spin-btn span {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            font-weight: bold;
            color: #000;
            /* Faz o texto girar na direção oposta para ficar "de pé" ou remova isso para girar junto */
            animation: spinCounter 4s linear infinite; 
            pointer-events: none;
        }

        .spin-btn:hover {
            transform: scale(1.2);
            filter: brightness(1.5);
            z-index: 10;
        }

        /* CORES DOS BOTÕES */
        .btn-play {
            border-color: var(--neon-green);
            background: rgba(57, 255, 20, 0.2);
            box-shadow: 0 0 15px var(--neon-green);
            font-size: 1.5rem; /* Maior */
        }
        .btn-play span { color: var(--neon-green); text-shadow: 0 0 5px #000; }

        .btn-stop {
            border-color: var(--neon-red);
            background: rgba(255, 7, 58, 0.2);
            box-shadow: 0 0 15px var(--neon-red);
        }
        .btn-stop span { color: var(--neon-red); }

        .btn-next {
            border-color: var(--neon-blue);
            background: rgba(0, 255, 255, 0.2);
            box-shadow: 0 0 15px var(--neon-blue);
        }
        .btn-next span { color: var(--neon-blue); }

        .btn-prev {
            border-color: var(--neon-purple);
            background: rgba(191, 0, 255, 0.2);
            box-shadow: 0 0 15px var(--neon-purple);
        }
        .btn-prev span { color: var(--neon-purple); }

        .btn-all {
            border-color: var(--neon-yellow);
            background: rgba(255, 255, 0, 0.2);
            box-shadow: 0 0 15px var(--neon-yellow);
        }
        .btn-all span { color: var(--neon-yellow); }

        /* ANIMAÇÕES DE GIRO */
        @keyframes spinCircle {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes spinCounter {
            0% { transform: rotate(360deg); }
            100% { transform: rotate(0deg); }
        }

        @keyframes glitchText {
            0% { transform: skew(0deg); }
            20% { transform: skew(-2deg); }
            40% { transform: skew(2deg); }
            60% { transform: skew(-1deg); }
            80% { transform: skew(1deg); }
            100% { transform: skew(0deg); }
        }

        /* INFO DA MÚSICA ATUAL */
        .now-playing {
            text-align: center;
            margin-top: 1rem;
            font-size: 1.2rem;
            color: var(--neon-white);
            border: 1px dashed var(--neon-gray);
            padding: 10px;
        }
        #track-title { color: var(--neon-blue); font-weight: bold; }

        /* GRID DE PLAYLIST */
        .playlist-section {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .playlist-header {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3rem;
            color: var(--neon-white);
            margin-bottom: 2rem;
            border-left: 10px solid var(--neon-pink);
            padding-left: 1rem;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .track-item {
            background: #111;
            border: 2px solid #333;
            padding: 1rem;
            cursor: pointer;
            transition: 0.2s;
            position: relative;
            overflow: hidden;
        }

        .track-item:hover {
            border-color: var(--neon-pink);
            background: #1a051a;
        }

        .track-item.active {
            border-color: var(--neon-green);
            background: rgba(57, 255, 20, 0.1);
        }

        .track-item.active::after {
            content: '▶ PLAYING';
            position: absolute;
            top: 5px;
            right: 5px;
            color: var(--neon-green);
            font-size: 0.7rem;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .track-num {
            font-size: 2rem;
            color: #444;
            font-family: 'Bebas Neue';
            margin-bottom: 0.5rem;
        }

        .track-item:hover .track-num { color: var(--neon-pink); }
        .track-item.active .track-num { color: var(--neon-green); }

        .track-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .spin-btn { width: 60px; height: 60px; }
            .controls-container { gap: 1rem; }
            .grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>

    <div class="joy-division-bg"></div>

    <header>
        <h1>POST-PUNK CONTROLLER</h1>
        <p style="color: var(--neon-blue); letter-spacing: 3px;">NEON BRUTALIST SYSTEM</p>
    </header>

    <!-- ÁREA DO PLAYER PRINCIPAL -->
    <main class="player-deck">
        <!-- O elemento div onde o YouTube API vai injetar o player -->
        <div id="main-player"></div>
        
        <div class="now-playing">
            AGORA TOCANDO: <span id="track-num-disp">--</span> - <span id="track-title">SELECIONE UMA MÚSICA</span>
        </div>

        <!-- CONTROLES GIRATÓRIOS -->
        <div class="controls-container">
            <!-- ANTERIOR -->
            <div class="spin-btn btn-prev" onclick="playPrev()" title="Anterior">
                <span>ANT</span>
            </div>

            <!-- STOP -->
            <div class="spin-btn btn-stop" onclick="stopVideo()" title="Stop">
                <span>STOP</span>
            </div>

            <!-- PLAY -->
            <div class="spin-btn btn-play" onclick="togglePlay()" title="Play/Pause">
                <span id="play-text">PLAY</span>
            </div>

            <!-- ALL (PLAYLIST COMPLETA) -->
            <div class="spin-btn btn-all" onclick="playAll()" title="Tocar Todas">
                <span>ALL</span>
            </div>

            <!-- PRÓXIMO -->
            <div class="spin-btn btn-next" onclick="playNext()" title="Próximo">
                <span>PROX</span>
            </div>
        </div>
    </main>

    <!-- LISTA DE MÚSICAS -->
    <section class="playlist-section">
        <h2 class="playlist-header">COLEÇÃO DE 38 FAIXAS</h2>
        <div class="grid" id="playlist-grid">
            <!-- Itens gerados via JS -->
        </div>
    </section>

    <!-- API DO YOUTUBE -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // DADOS: Lista de 38 Links
        const videoLinks = [
            "https://youtu.be/-HeCgOiirV4", "https://youtu.be/tBpQ1f77PDA", "https://youtu.be/h4Jnv-pb6sk",
            "https://youtu.be/A_ZJnKoMoBA", "https://youtu.be/9CvpeDHgCpo", "https://youtu.be/LHUz8vA_wCM",
            "https://youtu.be/bIGoN8_vv_Y", "https://youtu.be/npQwX2X3WBE", "https://youtu.be/qLQ0PZ-Zwc8",
            "https://youtu.be/bjxfcGJM3V4", "https://youtu.be/DOzdBjtA9H0", "https://youtu.be/qFtiH1bZuJ0",
            "https://youtu.be/FaHMRB30HmA", "https://youtu.be/VdAlPCrndT8", "https://youtu.be/gebchYvcp2s",
            "https://youtu.be/77GxLUUEcHo", "https://youtu.be/bYM8iPn47yE", "https://youtu.be/bpxKOOUhLs8",
            "https://youtu.be/y0AaKrZLFQo", "https://youtu.be/LVQi3iyx_Hc", "https://youtu.be/ElcwzDwdYkA",
            "https://youtu.be/F3VwhAe7Ks0", "https://youtu.be/mwooX2qXrwE", "https://youtu.be/lAt6qFZby5w",
            "https://youtu.be/Wj1r0bU3pkg", "https://youtu.be/5zS9CbU1gxY", "https://youtu.be/pO4lvJUwrwk",
            "https://youtu.be/X8wAX8uZHi8", "https://youtu.be/4AcNJQYb0Rw", "https://youtu.be/6170iawsQHE",
            "https://youtu.be/Md-lRIvg27U", "https://youtu.be/qWSh3b3V6dc", "https://youtu.be/A4ldE3PmnE8",
            "https://youtu.be/knA4zVaDrnk", "https://youtu.be/Hd65xQn5tCw", "https://youtu.be/eClVrSAVTMo",
            "https://youtu.be/ZFiMA2tfNjg", "https://youtu.be/IAWt359KMn8"
        ];

        // Variáveis de Estado
        let player;
        let currentTrackIndex = 0;
        let isPlaying = false;

        // Extrair ID do YouTube
        function getYouTubeId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        // Preparar lista de IDs
        const playlist = videoLinks.map(url => getYouTubeId(url));

        // INICIALIZAÇÃO DA API DO YOUTUBE
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('main-player', {
                height: '100%',
                width: '100%',
                videoId: playlist[0],
                playerVars: {
                    'playsinline': 1,
                    'controls': 0, // Esconder controles padrão para usar os nossos
                    'disablekb': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            console.log("Player Ready");
            updateTrackInfo(0);
        }

        // Atualizar estado quando o vídeo mudar (ex: acabar)
        function onPlayerStateChange(event) {
            const playText = document.getElementById('play-text');
            
            if (event.data == YT.PlayerState.PLAYING) {
                isPlaying = true;
                playText.innerText = "PAUSE";
                highlightTrack(currentTrackIndex);
            } else if (event.data == YT.PlayerState.PAUSED) {
                isPlaying = false;
                playText.innerText = "PLAY";
            } else if (event.data == YT.PlayerState.ENDED) {
                isPlaying = false;
                playText.innerText = "PLAY";
                // Auto-play next
                playNext();
            }
        }

        // FUNÇÕES DE CONTROLE
        function togglePlay() {
            if (!player) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function stopVideo() {
            if (!player) return;
            player.stopVideo();
            document.getElementById('play-text').innerText = "PLAY";
            isPlaying = false;
        }

        function loadTrack(index) {
            if (!player || index < 0 || index >= playlist.length) return;
            currentTrackIndex = index;
            player.loadVideoById(playlist[index]);
            updateTrackInfo(index);
            player.playVideo();
        }

        function playNext() {
            let nextIndex = currentTrackIndex + 1;
            if (nextIndex >= playlist.length) nextIndex = 0; // Loop para o início
            loadTrack(nextIndex);
        }

        function playPrev() {
            let prevIndex = currentTrackIndex - 1;
            if (prevIndex < 0) prevIndex = playlist.length - 1; // Loop para o fim
            loadTrack(prevIndex);
        }

        function playAll() {
            loadTrack(0); // Começa do início
        }

        // ATUALIZAR INTERFACE
        function updateTrackInfo(index) {
            document.getElementById('track-num-disp').innerText = String(index + 1).padStart(2, '0');
            document.getElementById('track-title').innerText = `POST-PUNK TRACK ${String(index + 1).padStart(2, '0')}`;
            
            // Scroll suave para o topo se estiver muito em baixo
            // document.querySelector('.player-deck').scrollIntoView({behavior: 'smooth'});
        }

        // DESTACAR TRACK ATIVO NA LISTA
        function highlightTrack(index) {
            // Remove active de todos
            document.querySelectorAll('.track-item').forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // GERAR A GRID DE PLAYLIST
        const gridContainer = document.getElementById('playlist-grid');
        
        playlist.forEach((videoId, index) => {
            const div = document.createElement('div');
            div.className = 'track-item';
            div.onclick = () => loadTrack(index); // Clicar no card toca
            
            div.innerHTML = `
                <div class="track-num">${String(index + 1).padStart(2, '0')}</div>
                <div class="track-name">MÚSICA POS PUNK - ${String(index + 1).padStart(2, '0')}</div>
                <div style="font-size: 0.8rem; color: #666;">ESTILO JOY DIVISION</div>
                <div style="margin-top:5px;">
                    <span style="border:1px solid var(--neon-pink); padding: 2px 5px; font-size: 0.7rem;">YT LINK</span>
                </div>
            `;
            gridContainer.appendChild(div);
        });

    </script>
</body>
</html>
